<style>
body{
  font-family: "Nimbus Sans L", "Arial Narrow", sans-serif;
  -moz-user-select:none
}
button{
  font-size:25px;
  height:60px;
  display:inline;
  margin:10px;
}
#main_table td { border-top:1px dotted silver }
#main_table tr.header{
  background-color: lightgray;
  font-weight: bold;
}
#main_table {
  width: 100%;
  border-bottom:2px solid black;
}
.valueCol {
	float: right;
  padding-right:20;
}
.color_green{color:green;}
.color_red{color:red;}

.patient_link{
  padding:10px;
  width:100%;
}
.color_white{
  padding-left:10px;
  padding-right:10px;
}

.color_blue{
  background-color:AliceBlue;
  padding-left:10px;
  padding-right:10px;
}

#mastercard {
  display:inline;
  font-size:25px;
  height:60px;
  margin:10px;
  position:absolute;
  right:113px;
  top:10px;
}

td {
  vertical-align: top;
}


.from_td{
   display:none;
}

#second_table {
  border-bottom:0px;
}

.hide{
  display:none;
  height:40px;
  width:65px;
}

.show{
 height:40px;
 width:65px; 
}

.table_button{height:35px;}
.remove{float:right;}
</style>
<script type="text/javascript">
</script>

<h2><%=Location.current_location.name%></h2></br><font id="total">Total</font>
<%= render :partial => "header" %>
<table id="main_table">
  <tr class="header">
    <td>Dispensed date</td>
    <td>Drug name</td>
    <td>Quantity</td>
  </tr>
    <% 
    total = 0
    color="blue"
    (@pills_dispensed || {}).sort.each do |date_drug_name,quantity| 
      if color == "blue"
        color = "white"
      else
        color = "blue"  
      end  
      total+= quantity.to_f
      name = date_drug_name.split("::")[1]
      date = date_drug_name.split("::")[0]
      %>
    <tr>
      <td class="color_<%=color%>"><%= date %></td>
      <td class="color_<%=color%>"><%= name %></td>
      <td class="color_<%=color%>"><%= quantity %></td>
     </tr>
    <%end%>
    <%= hidden_field_tag :total_pills,nil,:value => total %>
</table>

<script>
  $('total').innerHTML = "Total pill(s) received: " + $('total_pills').value;
</script>
